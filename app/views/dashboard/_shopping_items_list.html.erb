<div id="shopping-items-<%= category.id %>" class="flex flex-wrap gap-2">
    <% category.shopping_items.sort_by(&:importance).each do |item| %>

        <div class="grow smallcaps p-2 border text-center rounded-xl shadow hover:shadow-md  <%= item.stock == 0 ? 'border-stone-300 bg-stone-200/60 hover:shadow-stone-200' : 'hover:shadow-lime-200 border-lime-300 bg-lime-100/60' %> ">
            <%= link_to item.title, item %>
            <span class="text-xs text-black/40"><%= item.stock %>  <%= item.unit %></span>

            <div class="flex items-center">
                <div class="flex mx-auto max-w-fit">
                    <%= button_to '-', decrement_shopping_item_path(item), method: :post, class: "text-xl px-2" %>
                    <%= button_to '+', increment_shopping_item_path(item), method: :post, class: "text-xl px-2" %>
                </div>
                <% if item.notes.present? %>
                    <%= link_to "N", item, class: "px-1 self-end mr-[-8px] mb-[-8px] border border-yellow-300 rounded-br-xl bg-yellow-200 text-xs text-yellow-500 font-bold" %>
                <% end %>
            </div>
        </div>

    <% end %>   
</div>