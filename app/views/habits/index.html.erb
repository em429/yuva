<div data-controller="habit-actions"
    data-long-press-delay="300"
    class="w-full">

  <% if notice.present? %>
    <div class="flash_notice" id="notice">
      <%= notice %>
    </div>
  <% end %>

  <%# Add new Habit form %>
  <%= link_to new_habit_path, class: "flex mt-4 mb-8 px-3 justify-between btn-primary rounded-xl font-medium" do %>
    New Habit
    <%= render partial: "svgs/plus_circle", locals: { classes: "" } %>
  <% end %>


  <%# Habit list %>
  <% @habits.each do |habit| %>

    <div class="p-5 mt-8 border shadow-lg shadow-indigo-100 border-indigo-100 rounded-lg bg-indigo-50">
      <div class="mb-2 flex justify-between items-baseline">
        <span class="text-2xl font-bold text-indigo-400"><%= habit.name %></span>
      </div>

      <turbo-frame id="habit_completions_<%= habit.id%>">
        <%= render 'habit_completions', habit: habit, dates: @dates %>
      </turbo-frame>
    </div>

  <% end %>

</div>
